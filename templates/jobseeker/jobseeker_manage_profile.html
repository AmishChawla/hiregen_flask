{% extends 'jobseeker/jobseeker_base.html' %}

{% block content %}

  <div class="min-h-screen py-0">
    <div class="containerr mxauto px-4 sm:px-6 lg:px-0">
<!--Profile-->
<div class="p-5 rounded-lg border bg-white text-card-foreground shadow-sm items-center md:p-6 max-w-5xl mx-auto mb-5">
      <div class="flex justify-between items-start">
        <div class="flex items-center space-x-6">
            <div class="overflow-hidden">
                      <div class="relative inline-block">
                  {% if profile_info.profile_picture %}
                  <img class="rounded-full w-24 h-24 mx-auto object-cover border-2 shadow-lg border-slate-400" src="{{ profile_info.profile_picture }}" alt="User profile picture">
                  {% else %}
                  <img class="rounded-full w-24 h-24 mx-auto object-cover border-2 shadow-lg border-slate-400" src="{{ url_for('static', filename='images/man.png') }}" alt="User profile picture">
                  {% endif %}
                  <button type="button" onclick="openModal('changePictureModal')" class="absolute top-20 right-0 bg-gray-100 hover:bg-gray-200 p-2 rounded-full shadow">
                  <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-pen" viewBox="0 0 16 16">
                    <path d="m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001m-.644.766a.5.5 0 0 0-.707 0L1.95 11.756l-.764 3.057 3.057-.764L14.44 3.854a.5.5 0 0 0 0-.708z"/>
                  </svg>
            </button>
            </div>
            </div>          
            <div>
            <div class="relative inline-block">
                <p class="text-sm font-medium text-gray-800 dark:text-white/90">
                  <h1 class="text-3xl font-bold text-slate-900">{{ profile_info.name }}</h1> <span class="shrink-0">
                    
                  </span>
                </p>
                <button type="button" onclick="openModal('updateNameModal')" class="absolute -top-2 -right-4 hover:bg-gray-200 p-2 rounded-full">
                  <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-pen" viewBox="0 0 16 16">
                    <path d="m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001m-.644.766a.5.5 0 0 0-.707 0L1.95 11.756l-.764 3.057 3.057-.764L14.44 3.854a.5.5 0 0 0 0-.708z"/>
                  </svg>
                </button>
            </div>
            <!-- <div class="mt-2 font-medium text-slate-600 flex items-center gap-2">Senior Software Developer</div> -->
    <div class="mt-1 flex justify-left gap-1">
      {% if profile_info.github %}
      <a href="{{ profile_info.github }}" target="_blank" rel="noopener"
      class="flex h-8 w-8 items-center justify-center gap-2 rounded-full border border-gray-300 bg-white text-md font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200">
        <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 24 24">
          <path d="M10.9,2.1c-4.6,0.5-8.3,4.2-8.8,8.7c-0.5,4.7,2.2,8.9,6.3,10.5C8.7,21.4,9,21.2,9,20.8v-1.6c0,0-0.4,0.1-0.9,0.1 c-1.4,0-2-1.2-2.1-1.9c-0.1-0.4-0.3-0.7-0.6-1C5.1,16.3,5,16.3,5,16.2C5,16,5.3,16,5.4,16c0.6,0,1.1,0.7,1.3,1c0.5,0.8,1.1,1,1.4,1 c0.4,0,0.7-0.1,0.9-0.2c0.1-0.7,0.4-1.4,1-1.8c-2.3-0.5-4-1.8-4-4c0-1.1,0.5-2.2,1.2-3C7.1,8.8,7,8.3,7,7.6C7,7.2,7,6.6,7.3,6 c0,0,1.4,0,2.8,1.3C10.6,7.1,11.3,7,12,7s1.4,0.1,2,0.3C15.3,6,16.8,6,16.8,6C17,6.6,17,7.2,17,7.6c0,0.8-0.1,1.2-0.2,1.4 c0.7,0.8,1.2,1.8,1.2,3c0,2.2-1.7,3.5-4,4c0.6,0.5,1,1.4,1,2.3v2.6c0,0.3,0.3,0.6,0.7,0.5c3.7-1.5,6.3-5.1,6.3-9.3 C22,6.1,16.9,1.4,10.9,2.1z"></path>
      </svg>      
    </a>
    {% endif %}

    {% if profile_info.portfolio_website %}
      <a href="{{ profile_info.portfolio_website }}" target="_blank" rel="noopener"
      class="flex h-8 w-8 items-center justify-center gap-2 rounded-full border border-gray-300 bg-white text-sm font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-4">
          <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5" />
        </svg>
      </a>
      {% endif %}

      {% if profile_info.linkedin %}
      <a href="{{ profile_info.linkedin }}" target="_blank" rel="noopener"
      class="flex h-8 w-8 items-center justify-center gap-2 rounded-full border border-gray-300 bg-white text-sm font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200">
        <svg class="fill-current" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M5.78381 4.16645C5.78351 4.84504 5.37181 5.45569 4.74286 5.71045C4.11391 5.96521 3.39331 5.81321 2.92083 5.32613C2.44836 4.83904 2.31837 4.11413 2.59216 3.49323C2.86596 2.87233 3.48886 2.47942 4.16715 2.49978C5.06804 2.52682 5.78422 3.26515 5.78381 4.16645ZM5.83381 7.06645H2.50048V17.4998H5.83381V7.06645ZM11.1005 7.06645H7.78381V17.4998H11.0672V12.0248C11.0672 8.97475 15.0422 8.69142 15.0422 12.0248V17.4998H18.3338V10.8914C18.3338 5.74978 12.4505 5.94145 11.0672 8.46642L11.1005 7.06645Z" fill=""></path>
        </svg>
      </a>
      {% endif %}

      {% if profile_info.instagram %}
      <a href="{{ profile_info.instagram }}" target="_blank" rel="noopener" class="flex h-8 w-8 items-center justify-center gap-2 rounded-full border border-gray-300 bg-white text-sm font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200">
        <svg class="fill-current" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M10.8567 1.66699C11.7946 1.66854 12.2698 1.67351 12.6805 1.68573L12.8422 1.69102C13.0291 1.69766 13.2134 1.70599 13.4357 1.71641C14.3224 1.75738 14.9273 1.89766 15.4586 2.10391C16.0078 2.31572 16.4717 2.60183 16.9349 3.06503C17.3974 3.52822 17.6836 3.99349 17.8961 4.54141C18.1016 5.07197 18.2419 5.67753 18.2836 6.56433C18.2935 6.78655 18.3015 6.97088 18.3081 7.15775L18.3133 7.31949C18.3255 7.73011 18.3311 8.20543 18.3328 9.1433L18.3335 9.76463C18.3336 9.84055 18.3336 9.91888 18.3336 9.99972L18.3335 10.2348L18.333 10.8562C18.3314 11.794 18.3265 12.2694 18.3142 12.68L18.3089 12.8417C18.3023 13.0286 18.294 13.213 18.2836 13.4351C18.2426 14.322 18.1016 14.9268 17.8961 15.458C17.6842 16.0074 17.3974 16.4713 16.9349 16.9345C16.4717 17.397 16.0057 17.6831 15.4586 17.8955C14.9273 18.1011 14.3224 18.2414 13.4357 18.2831C13.2134 18.293 13.0291 18.3011 12.8422 18.3076L12.6805 18.3128C12.2698 18.3251 11.7946 18.3306 10.8567 18.3324L10.2353 18.333C10.1594 18.333 10.0811 18.333 10.0002 18.333H9.76516L9.14375 18.3325C8.20591 18.331 7.7306 18.326 7.31997 18.3137L7.15824 18.3085C6.97136 18.3018 6.78703 18.2935 6.56481 18.2831C5.67801 18.2421 5.07384 18.1011 4.5419 17.8955C3.99328 17.6838 3.5287 17.397 3.06551 16.9345C2.60231 16.4713 2.3169 16.0053 2.1044 15.458C1.89815 14.9268 1.75856 14.322 1.7169 13.4351C1.707 13.213 1.69892 13.0286 1.69238 12.8417L1.68714 12.68C1.67495 12.2694 1.66939 11.794 1.66759 10.8562L1.66748 9.1433C1.66903 8.20543 1.67399 7.73011 1.68621 7.31949L1.69151 7.15775C1.69815 6.97088 1.70648 6.78655 1.7169 6.56433C1.75786 5.67683 1.89815 5.07266 2.1044 4.54141C2.3162 3.9928 2.60231 3.52822 3.06551 3.06503C3.5287 2.60183 3.99398 2.31641 4.5419 2.10391C5.07315 1.89766 5.67731 1.75808 6.56481 1.71641C6.78703 1.70652 6.97136 1.69844 7.15824 1.6919L7.31997 1.68666C7.7306 1.67446 8.20591 1.6689 9.14375 1.6671L10.8567 1.66699ZM10.0002 5.83308C7.69781 5.83308 5.83356 7.69935 5.83356 9.99972C5.83356 12.3021 7.69984 14.1664 10.0002 14.1664C12.3027 14.1664 14.1669 12.3001 14.1669 9.99972C14.1669 7.69732 12.3006 5.83308 10.0002 5.83308ZM10.0002 7.49974C11.381 7.49974 12.5002 8.61863 12.5002 9.99972C12.5002 11.3805 11.3813 12.4997 10.0002 12.4997C8.6195 12.4997 7.50023 11.3809 7.50023 9.99972C7.50023 8.61897 8.61908 7.49974 10.0002 7.49974ZM14.3752 4.58308C13.8008 4.58308 13.3336 5.04967 13.3336 5.62403C13.3336 6.19841 13.8002 6.66572 14.3752 6.66572C14.9496 6.66572 15.4169 6.19913 15.4169 5.62403C15.4169 5.04967 14.9488 4.58236 14.3752 4.58308Z" fill=""></path>
        </svg>
      </a>
      {% endif %}
    </div>


    <div class="text-slate-500 text-sm flex items-center mt-3">
      <div class="flex items-center gap-1 me-5"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-map-pin w-4 h-4" data-lov-id="src/components/JobCard.tsx:31:16" data-lov-name="MapPin" data-component-path="src/components/JobCard.tsx" data-component-line="31" data-component-file="JobCard.tsx" data-component-name="MapPin" data-component-content="%7B%22className%22%3A%22w-4%20h-4%22%7D"><path d="M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"></path><circle cx="12" cy="10" r="3"></circle></svg>
      {% if profile_info.address_city or profile_info.address_province or profile_info.address_county %}
          {{ profile_info.address_city or '' }}{% if profile_info.address_city and (profile_info.address_province or profile_info.address_county) %}, {% endif %}
          {{ profile_info.address_province or '' }}{% if profile_info.address_province and profile_info.address_county %}, {% endif %}
          {{ profile_info.address_county or '' }}
        {% endif %}
      </div>          
            <div class="flex items-center gap-1 me-5"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-mail w-4 h-4" data-lov-id="src/pages/Profile.tsx:86:28" data-lov-name="Mail" data-component-path="src/pages/Profile.tsx" data-component-line="86" data-component-file="Profile.tsx" data-component-name="Mail" data-component-content="%7B%22className%22%3A%22w-4%20h-4%22%7D"><rect width="20" height="16" x="2" y="4" rx="2"></rect><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path></svg>{{ profile_info.email }} <span class="shrink-0 ml-2">
            <button onclick="openModal('updateEmailModal')" type="button" class="text-sm text-blue-700 hover:text-blue-500">Edit</button>
          </span></div>                                    
          <div class="flex items-center gap-1"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-phone w-4 h-4" data-lov-id="src/pages/Profile.tsx:90:28" data-lov-name="Phone" data-component-path="src/pages/Profile.tsx" data-component-line="90" data-component-file="Profile.tsx" data-component-name="Phone" data-component-content="%7B%22className%22%3A%22w-4%20h-4%22%7D"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>{{ profile_info.phone_number }}<span class="shrink-0 ml-2">
              <button onclick="openModal('updatePhoneModal')" type="button" class="text-sm text-blue-700 hover:text-blue-500">Edit</button>
            </span></div>                                    
      </div>
            </div>
        </div> 
        
        <a href="{{url_for('jobseeker_update_profile')}}" class="flex items-center justify-center gap-2 rounded-lg border border-blue-600 bg-blue-600 px-4 py-2.5 text-sm font-medium text-white shadow-theme-xs hover:bg-blue-500 hover:text-white dark:border-blue-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200 lg:inline-flex lg:w-auto">
        <svg
        xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
        stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-square-pen w-4 h-4"
        data-lov-id="src/pages/Profile.tsx:98:24" data-lov-name="Edit" data-component-path="src/pages/Profile.tsx"
        data-component-line="98" data-component-file="Profile.tsx" data-component-name="Edit"
        data-component-content="%7B%22className%22%3A%22w-4%20h-4%22%7D">
        <path d="M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
        <path
            d="M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z">
        </path>
    </svg>Edit Profile</a>
    </div>
</div>

<!--About Us-->
{% if profile_info.profile_summary %}
<div class="p-5 rounded-lg border bg-white text-card-foreground shadow-sm items-center md:p-6 max-w-5xl mx-auto mb-5">
    <h2 class="text-2xl font-semibold leading-none tracking-tight flex items-center gap-2 mb-5"><svg class="mt-1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-briefcase w-5 h-5" data-lov-id="src/pages/Profile.tsx:110:20" data-lov-name="Briefcase" data-component-path="src/pages/Profile.tsx" data-component-line="110" data-component-file="Profile.tsx" data-component-name="Briefcase" data-component-content="%7B%22className%22%3A%22w-5%20h-5%22%7D"><path d="M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path><rect width="20" height="14" x="2" y="6" rx="2"></rect></svg>About</h2>
    <p class="relative z-10 mt-2 text-md text-slate-700 dark:text-slate-400">{{ profile_info.profile_summary.content if profile_info.profile_summary else 'No information available.' }}</p>
</div>
{% endif %}
<!--Skills-->
{% if profile_info.skills %}
<div class="p-5 rounded-lg border bg-white text-card-foreground shadow-sm items-center md:p-6 max-w-5xl mx-auto mb-5">
    <h2 class="text-2xl font-semibold leading-none tracking-tight flex items-center gap-2 mb-5"><svg class="mt-1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-award w-5 h-5" data-lov-id="src/pages/Profile.tsx:123:20" data-lov-name="Award" data-component-path="src/pages/Profile.tsx" data-component-line="123" data-component-file="Profile.tsx" data-component-name="Award" data-component-content="%7B%22className%22%3A%22w-5%20h-5%22%7D"><path d="m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526"></path><circle cx="12" cy="8" r="6"></circle></svg>Skills</h2>
    {% for skill in profile_info.skills %}
      <span class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-secondary/80 bg-blue-50 text-blue-700">{{ skill }}</span>
      {% else %}
      <span class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-secondary/80 bg-blue-50 text-blue-700">No skills added yet.</span>
    {% endfor %}
</div>
{% endif %}
<!--Languages-->
{% if profile_info.languages %}
<div class="p-5 rounded-lg border bg-white text-card-foreground shadow-sm items-center md:p-6 max-w-5xl mx-auto mb-5">
    <h2 class="text-2xl font-semibold leading-none tracking-tight flex items-center gap-2 mb-5"><svg class="mt-1" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8">
  <path d="M12 2a10 10 0 1 0 0 20a10 10 0 0 0 0-20z" />
  <path d="M2 12h20M12 2c2.5 2.5 4 6.3 4 10s-1.5 7.5-4 10c-2.5-2.5-4-6.3-4-10s1.5-7.5 4-10z" />
</svg>
Languages</h2>
    {% if profile_info.languages %}
        {% for language in profile_info.languages %}
      <span class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-secondary/80 bg-blue-50 text-blue-700">{{ language }}</span>
      {% endfor %}
    {% endif %}
</div>
{% endif %}
<!--Experience-->
{% if profile_info.experiences %}
<div class="p-5 rounded-lg border bg-white text-card-foreground shadow-sm items-center md:p-6 max-w-5xl mx-auto mb-5">
    <h2 class="text-2xl font-semibold leading-none tracking-tight flex items-center gap-2 mb-5"><svg class="mt-1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-briefcase w-5 h-5" data-lov-id="src/pages/Profile.tsx:142:20" data-lov-name="Briefcase" data-component-path="src/pages/Profile.tsx" data-component-line="142" data-component-file="Profile.tsx" data-component-name="Briefcase" data-component-content="%7B%22className%22%3A%22w-5%20h-5%22%7D"><path d="M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path><rect width="20" height="14" x="2" y="6" rx="2"></rect></svg>Work Experience</h2>
  {% for experience in profile_info.experiences %}
  <div class="border-l-2 border-blue-200 pl-4">
    <h3 class="font-semibold text-lg text-gray-900">{{ experience.position }}</h3>
    <p class="text-blue-600 font-medium">{{ experience.company_name }}</p>
    <p class="text-sm text-gray-500 mb-2">{{ experience.start_date }} - {{ experience.end_date or 'Present' }}</p>
    <p class="text-gray-700">{{ experience.responsibilities }}</p>
</div>
{% endfor %}
</div>
{% endif %}
<!--Education-->
{% if profile_info.education %}
<div class="p-5 rounded-lg border bg-white text-card-foreground shadow-sm items-center md:p-6 max-w-5xl mx-auto mb-5">
    <h2 class="text-2xl font-semibold leading-none tracking-tight flex items-center gap-2 mb-5"><svg class="mt-1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-graduation-cap w-5 h-5" data-lov-id="src/pages/Profile.tsx:162:20" data-lov-name="GraduationCap" data-component-path="src/pages/Profile.tsx" data-component-line="162" data-component-file="Profile.tsx" data-component-name="GraduationCap" data-component-content="%7B%22className%22%3A%22w-5%20h-5%22%7D"><path d="M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z"></path><path d="M22 10v6"></path><path d="M6 12.5V16a6 3 0 0 0 12 0v-3.5"></path></svg>Education</h2>
{% for education in profile_info.education %}
  <div class="border-l-2 border-green-200 pl-4">
    <h3 class="font-semibold text-lg text-gray-900">{{ education.degree }} in {{ education.field_of_study }}</h3>
    <p class="text-green-600 font-medium">{{ education.institution_name }}</p>
    <p class="text-sm text-gray-500">2015 - 2019 â€¢ GPA: 3.8/4.0</p>
</div>
{% endfor %}
</div>
{% endif %} 
<!--Internships-->
{% if profile_info.internships %}
<div class="p-5 rounded-lg border bg-white text-card-foreground shadow-sm items-center md:p-6 max-w-5xl mx-auto mb-5">
    <h2 class="text-2xl font-semibold leading-none tracking-tight flex items-center gap-2 mb-5"><svg class="mt-1" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
  <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
  <path d="M16 3h-8a2 2 0 0 0-2 2v2h12V5a2 2 0 0 0-2-2z"></path>
  <path d="M12 11l2.5 1.5L12 14l-2.5-1.5L12 11z"></path>
</svg>
Internships</h2>
{% for internship in profile_info.internships %}
  <div class="border-l-2 border-orange-200 pl-4">
    <h3 class="font-semibold text-lg text-gray-900">{{ internship.position }}</h3>
    <p class="text-orange-600 font-medium">{{ internship.company_name }}</p>
    <p class="text-sm text-gray-500">{{ internship.start_date }} - {{ internship.end_date or 'Present' }}</p>
    <p class="text-gray-700">{{ internship.job_description }}</p>
</div>
{% endfor %}
</div>
{% endif %}
<!--Projects-->
{% if profile_info.projects %}
<div class="p-5 rounded-lg border bg-white text-card-foreground shadow-sm items-center md:p-6 max-w-5xl mx-auto mb-5">
    <h2 class="text-2xl font-semibold leading-none tracking-tight flex items-center gap-2 mb-5"><svg class="mt-1" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8">
  <path d="M3 6a2 2 0 0 1 2-2h4l2 2h8a2 2 0 0 1 2 2v1" />
  <path d="M3 6v12a2 2 0 0 0 2 2h7.5" />
  <circle cx="18" cy="18" r="3" />
  <path d="M18 15v1.5M18 19.5V21M20.6 16.5l-1.3.75M15.7 19.75l-1.3.75M15.7 16.5l1.3.75M20.6 19.75l1.3.75" />
</svg>
Projects</h2>
{% for project in profile_info.projects %}
  <div class="border-l-2 border-purple-200 pl-4">
    <h3 class="font-semibold text-lg text-gray-900">{{ project.title }}</h3>
    <p class="text-purple-600 font-medium"><a href="{{ project.project_url }}">{{ project.project_url }}</a></p>
    <p class="text-gray-700">{{ project.description }}</p>
</div>
{% endfor %}
</div>
{% endif %} 
<!--Accomplishments-->
{% if profile_info.accomplishments %}
<div class="p-5 rounded-lg border bg-white text-card-foreground shadow-sm items-center md:p-6 max-w-5xl mx-auto mb-5">
    <h2 class="text-2xl font-semibold leading-none tracking-tight flex items-center gap-2 mb-5"><svg class="mt-1" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8">
  <path d="M8 21h8M12 17v4M17 5V3H7v2" />
  <path d="M17 5a5 5 0 0 1-10 0" />
  <path d="M21 5h-4a5 5 0 0 0 4 4v-4zM3 5h4a5 5 0 0 1-4 4V5z" />
</svg>
Accomplishments</h2>
{% for accomplishment in profile_info.accomplishments %}
  <div class="border-l-2 border-fuchsia-200 pl-4">
    <h3 class="font-semibold text-lg text-gray-900">{{ accomplishment.title }}</h3>
    <p class="text-sm text-gray-500">{{ accomplishment.achievement_date }}</p>
    <p class="text-gray-700">{{ accomplishment.description }}</p>
</div>
{% endfor %}
</div>
{% endif %}


<div id="updateNameModal" class="relative z-10 hidden flex items-center justify-center min-h-screen bg-gray-500/75" aria-labelledby="modal-title" role="dialog" aria-modal="true">
  <div class="fixed inset-0 bg-gray-500/75 transition-opacity" aria-hidden="true"></div>
  <div class="fixed inset-0 z-10 w-screen overflow-y-auto flex items-center justify-center">
    <div class="relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6">
      <h3 class="mb-2 text-base font-semibold text-gray-900" id="modal-title">Update Name</h3>
      <form method="POST" action="{{ url_for('collect_jobseeker_name') }}">
        {{ name_form.hidden_tag() }}
        <div>
          <label for="firstname" class="block text-sm/6 font-medium text-gray-900 mb-2">First Name</label>
          {{name_form.firstname(class="block w-full rounded-md bg-white px-3 py-2 text-base text-gray-900 outline outline-1 outline-gray-300 focus:outline-indigo-600")}}
        </div>
        <div class="mt-4">
          <label for="lastname" class="block text-sm/6 font-medium text-gray-900 mb-2">Last Name</label>
          {{name_form.lastname(class="block w-full rounded-md bg-white px-3 py-2 text-base text-gray-900 outline outline-1 outline-gray-300 focus:outline-indigo-600")}}
        </div>
        <div class="mt-5 sm:mt-6 text-right">          
          <button type="button" onclick="closeModal('updateNameModal')" class="flex items-center justify-center gap-2 rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-600 shadow-theme-xs hover:bg-slate-500 hover:text-white dark:border-blue-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200 lg:inline-flex lg:w-auto me-2">Cancel</button>
          {{ name_form.submit(class="flex items-center justify-center gap-2 rounded-lg border border-blue-600 bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-theme-xs hover:bg-blue-500 hover:text-white dark:border-blue-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200 lg:inline-flex lg:w-auto") }}
        </div>
      </form>
    </div>
  </div>
</div>

<div id="updateEmailModal" class="relative z-10 hidden flex items-center justify-center min-h-screen bg-gray-500/75" aria-labelledby="modal-title" role="dialog" aria-modal="true">
  <div class="fixed inset-0 bg-gray-500/75 transition-opacity" aria-hidden="true"></div>
  <div class="fixed inset-0 z-10 w-screen overflow-y-auto flex items-center justify-center">
    <div class="relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6">
      <h3 class="mb-2 text-base font-semibold text-gray-900" id="modal-title">Update Email</h3>
      <form method="POST" action="{{ url_for('collect_jobseeker_email') }}">
        {{ email_form.hidden_tag() }}
        <div>
          <label for="email" class="block text-sm/6 font-medium text-gray-900 mb-2">Email</label>
        {{email_form.email(class="block w-full rounded-md bg-white px-3 py-2 text-base text-gray-900 outline outline-1 outline-gray-300 focus:outline-indigo-600")}}
        </div>
        <div class="mt-5 sm:mt-6 text-right">
          <button type="button" onclick="closeModal('updateEmailModal')" class="flex items-center justify-center gap-2 rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-600 shadow-theme-xs hover:bg-slate-500 hover:text-white dark:border-blue-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200 lg:inline-flex lg:w-auto me-2">Cancel</button>
          {{ email_form.submit(class="flex items-center justify-center gap-2 rounded-lg border border-blue-600 bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-theme-xs hover:bg-blue-500 hover:text-white dark:border-blue-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200 lg:inline-flex lg:w-auto") }}
        </div>
      </form>
    </div>
  </div>
</div>

<div id="updatePhoneModal" class="relative z-10 hidden flex items-center justify-center min-h-screen bg-gray-500/75" aria-labelledby="modal-title" role="dialog" aria-modal="true">
  <div class="fixed inset-0 bg-gray-500/75 transition-opacity" aria-hidden="true"></div>
  <div class="fixed inset-0 z-10 w-screen overflow-y-auto flex items-center justify-center">
    <div class="relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6">
      <h3 class="mb-2 text-base font-semibold text-gray-900" id="modal-title">Update Phone Number</h3>
      <form method="POST" action="{{ url_for('collect_jobseeker_phone') }}">
        {{ phone_form.hidden_tag() }}
        <div>
          <label for="phone_number" class="block text-sm/6 font-medium text-gray-900 mb-2">Mobile</label>
          {{ phone_form.phone_number(class="block w-full rounded-md bg-white px-3 py-2 text-base text-gray-900 outline outline-1 outline-gray-300 focus:outline-indigo-600") }}
        </div>
        <div class="mt-5 sm:mt-6 text-right">
          <button type="button" onclick="closeModal('updatePhoneModal')" class="flex items-center justify-center gap-2 rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-600 shadow-theme-xs hover:bg-slate-500 hover:text-white dark:border-blue-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200 lg:inline-flex lg:w-auto me-2">Cancel</button>
          {{ phone_form.submit(class="flex items-center justify-center gap-2 rounded-lg border border-blue-600 bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-theme-xs hover:bg-blue-500 hover:text-white dark:border-blue-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200 lg:inline-flex lg:w-auto") }}
        </div>
      </form>
    </div>
  </div>
</div>

<div id="changePictureModal" class="relative z-10 hidden flex items-center justify-center min-h-screen bg-gray-500/75" aria-labelledby="modal-title" role="dialog" aria-modal="true">
  <div class="fixed inset-0 bg-gray-500/75 transition-opacity" aria-hidden="true"></div>
  <div class="fixed inset-0 z-10 w-screen overflow-y-auto flex items-center justify-center">
    <div class="relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6">

      <!-- Modal Title -->
      <h3 class="text-base font-semibold text-gray-900" id="modal-title">Change Profile Picture</h3>

      <!-- Profile Picture Update Form -->
      <form method="POST" action="{{ url_for('collect_jobseeker_profile_picture') }}" enctype="multipart/form-data">
        {{ profile_picture_form.hidden_tag() }}

        <!-- Photo Upload Component -->
        <div class="col-span-full mt-4">
          <label for="profile_picture" class="block text-sm/6 font-medium text-gray-900">Profile Picture</label>
          <div class="mt-2 flex items-center gap-x-3">
            <img id="previewImage" class="size-12 rounded-full object-cover border border-gray-300"
                 src="{{ profile_info.profile_picture or url_for('static', filename='images/man.png') }}"
                 alt="Profile Picture">
            {{ profile_picture_form.profile_picture(class="hidden", id="fileInput", onchange="previewFile()") }}
            <button type="button" onclick="document.getElementById('fileInput').click();"
                    class="rounded-md bg-white px-2.5 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50">
              Change
            </button>
          </div>
          {% if profile_picture_form.profile_picture.errors %}
          <p class="text-red-500 text-md mt-2">{{ profile_picture_form.profile_picture.errors[0] }}</p>
          {% endif %}
        </div>

        <!-- Submit & Cancel Buttons -->
        <div class="mt-5 sm:mt-6 text-right">          
          <button type="button" onclick="closeModal('changePictureModal')" class="flex items-center justify-center gap-2 rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-600 shadow-theme-xs hover:bg-slate-500 hover:text-white dark:border-blue-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200 lg:inline-flex lg:w-auto me-2">Cancel</button>
          {{ profile_picture_form.submit(class="flex items-center justify-center gap-2 rounded-lg border border-blue-600 bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-theme-xs hover:bg-blue-500 hover:text-white dark:border-blue-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200 lg:inline-flex lg:w-auto") }}
        </div>
      </form>

    </div>
  </div>
</div>
</div>
</div>

<script>
  function previewFile() {
    const file = document.getElementById("fileInput").files[0];
    const preview = document.getElementById("previewImage");

    if (file) {
      const reader = new FileReader();
      reader.onload = function (e) {
        preview.src = e.target.result;
      };
      reader.readAsDataURL(file);
    }
  }
</script>
<script>
  function openModal(modalId) {
    console.log("Opening Modal:", modalId); // Debugging Log
    let modal = document.getElementById(modalId);
    if (modal) {
      modal.classList.remove('hidden');
      modal.classList.add('flex');
    } else {
      console.error("Modal not found:", modalId);
    }
  }

  function closeModal(modalId) {
    console.log("Closing Modal:", modalId); // Debugging Log
    let modal = document.getElementById(modalId);
    if (modal) {
      modal.classList.add('hidden');
      modal.classList.remove('flex');
    } else {
      console.error("Modal not found:", modalId);
    }
  }

  // Close modal when clicking outside of the modal content
  document.addEventListener("click", function(event) {
    document.querySelectorAll(".relative.z-10").forEach((modal) => {
      let modalContent = modal.querySelector(".modal-content");
      if (!modal.classList.contains("hidden") && !modalContent.contains(event.target)) {
        closeModal(modal.id);
      }
    });
  });

  // Prevent modal from closing when clicking inside the modal content
  document.querySelectorAll(".modal-content").forEach((modalContent) => {
    modalContent.addEventListener("click", function(event) {
      event.stopPropagation();
    });
  });
</script>


{% endblock %}
